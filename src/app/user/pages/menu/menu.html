<div style="height: 100%; display: flex; flex-direction: column; gap: 10px;">
  <div style="display: flex; flex-direction: column; padding: 10px; background: #ffffff;">
    <span style="font-weight: 700; font-size: 16px;">{{ branch.restaurant.name }}</span>
    <span style="font-size: 12px;">{{ branch.address }}</span>
  </div>
  <div style="position: sticky; top: 0; z-index: 10; background: #ffffff;">
    <div class="menu-categories__scroller">
      @for (cat of categories; track cat.id) {
        <button matButton="tonal" style="flex: 0 0 auto; padding: 6px 12px; font-size: 13px;"
                [style.background-color]="activeCategoryId === cat.id ? '#548fe4' : '#f0f1f3'" (click)="changeCategory(cat.id)">
          {{ cat.name }}
        </button>
      }
    </div>
  </div>
  <div style="display: flex; flex-direction: column; gap: 10px; padding: 0 10px 5px;">
    @for (branchDish of branchesDishes; track branchDish.id) {
      <div style="display: grid; grid-template-columns: 90px 1fr; padding: 10px; border-radius: 12px; background: #ffffff;">
        <div style="display: flex; align-items: center; justify-content: center;">
          @if (branchDish.dish.imageUrl !== '') {
            <img [src]="branchDish.dish.imageUrl" alt="Imagen del plato" style="width: 100%; height: 100%; object-fit: cover; border-radius: 10px;"/>
          } @else {
            <div style="display: flex; flex-direction: column; align-items: center">
              <mat-icon>image</mat-icon>
              <span>Sin imagen</span>
            </div>
          }
        </div>
        <div style="display: flex; flex-direction: column; gap: 6px; margin-left: 5px;">
          <div style="display: flex; justify-content: space-between; font-weight: 700;">
            <span>{{ branchDish.dish.name }}</span>
            <span>S/. {{ branchDish.customPrice || branchDish.dish.basePrice | number:'1.2-2' }}</span>
          </div>
          <span style="font-size: 12px;">{{ branchDish.dish.description }}</span>
          <div style="display: flex; justify-content: flex-end;">
            <button matButton="filled" (click)="onAddToCart(branchDish)">
              <span>Agregar</span>
            </button>
          </div>
        </div>
      </div>
    }
  </div>
  <button mat-fab style="position: fixed; right: 16px; bottom: 16px; z-index: 10;"
          [matBadge]="cartLength" [matBadgeHidden]="cartLength == 0" matBadgePosition="before" [routerLink]="['/shopping-cart']">
    <mat-icon>shopping_cart</mat-icon>
  </button>
</div>

